# Code Directory
+ `src` - source files, makefile and scripts
+ `src/openssl_files` - certificates generated by openssl

# Scripts and OpenSSL PEM Pass
For all scripts starting with name `run_client_`, modify the ip address to server's public ip address. The original address in these scripts are hardcoded to `192.168.226.133`.

The PEM pass phrases for private keys in `src/openssl_files` are all `abcd`. Replace `src/openssl_files/{ca, server, client}.{key, crt}` to use your own certificates.

# Run
## Final Version (task 6 multiple connections and bonus)
start server and 2 clients:
```bash
# on server:
./run_server_multiple_connection.sh

# on client:
./run_client_multiple_connection.sh
./run_client_multiple_connection2.sh
```
setup tuns:
```bash
# on server:
./setup_tun_server_multiple_connection.sh

# on client:
./setup_tun_client.sh
./setup_tun_client2.sh
```
start communication from the client side, e.g.,
```bash
# on client:
ping 10.0.1.1
ping 10.0.3.1
```
after that, server will be able to communicate with clients, e.g.,
```bash
# on server:
ping 10.0.2.1
ping 10.0.4.1
```
## Incremental Tasks
### task 1 (udp)
```bash
# on server:
./run_server.sh simpletun_udp_task1
./setup_tun_server.sh

# on client:
./run_client.sh simpletun_udp_task1
./setup_tun_client.sh
```
### task 2 (encryption & hmac)
```bash
# on server:
./run_server.sh minivpn_task2
./setup_tun_server.sh

# on client:
./run_client.sh minivpn_task2
./setup_tun_client.sh
```

### task 3 (ssl authentication)
start server and client:
```bash
# on server:
./run_server.sh minivpn_task3_server

# on client:
./run_client.sh minivpn_task3_client
```
setup tuns:
```bash
# on server:
./setup_tun_server.sh
# on client:
./setup_tun_client.sh
```